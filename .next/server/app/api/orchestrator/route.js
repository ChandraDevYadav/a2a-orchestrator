"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orchestrator/route";
exports.ids = ["app/api/orchestrator/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forchestrator%2Froute&page=%2Fapi%2Forchestrator%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forchestrator%2Froute.ts&appDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forchestrator%2Froute&page=%2Fapi%2Forchestrator%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forchestrator%2Froute.ts&appDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Chan_Dra_Dev_AtoA_Protocol_A2_Quiz_quiz_frontend_src_app_api_orchestrator_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/orchestrator/route.ts */ \"(rsc)/./src/app/api/orchestrator/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orchestrator/route\",\n        pathname: \"/api/orchestrator\",\n        filename: \"route\",\n        bundlePath: \"app/api/orchestrator/route\"\n    },\n    resolvedPagePath: \"D:\\\\Chan Dra Dev\\\\AtoA_Protocol\\\\A2\\\\Quiz\\\\quiz-frontend\\\\src\\\\app\\\\api\\\\orchestrator\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Chan_Dra_Dev_AtoA_Protocol_A2_Quiz_quiz_frontend_src_app_api_orchestrator_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orchestrator/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmNoZXN0cmF0b3IlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9yY2hlc3RyYXRvciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9yY2hlc3RyYXRvciUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ2hhbiUyMERyYSUyMERldiU1Q0F0b0FfUHJvdG9jb2wlNUNBMiU1Q1F1aXolNUNxdWl6LWZyb250ZW5kJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDQ2hhbiUyMERyYSUyMERldiU1Q0F0b0FfUHJvdG9jb2wlNUNBMiU1Q1F1aXolNUNxdWl6LWZyb250ZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMrQztBQUM1SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3F1aXotZnJvbnRlbmQvP2FhZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcQ2hhbiBEcmEgRGV2XFxcXEF0b0FfUHJvdG9jb2xcXFxcQTJcXFxcUXVpelxcXFxxdWl6LWZyb250ZW5kXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG9yY2hlc3RyYXRvclxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvb3JjaGVzdHJhdG9yL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvb3JjaGVzdHJhdG9yXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vcmNoZXN0cmF0b3Ivcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxDaGFuIERyYSBEZXZcXFxcQXRvQV9Qcm90b2NvbFxcXFxBMlxcXFxRdWl6XFxcXHF1aXotZnJvbnRlbmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcb3JjaGVzdHJhdG9yXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9vcmNoZXN0cmF0b3Ivcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forchestrator%2Froute&page=%2Fapi%2Forchestrator%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forchestrator%2Froute.ts&appDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/orchestrator/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/orchestrator/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_orchestratorService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/orchestratorService */ \"(rsc)/./src/lib/orchestratorService.ts\");\n\n\n// Global orchestrator service instance\nlet orchestratorService;\n// Initialize orchestrator service\nif (!orchestratorService) {\n    orchestratorService = new _lib_orchestratorService__WEBPACK_IMPORTED_MODULE_1__.NextJSOrchestratorService();\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { action, ...data } = body;\n        let result;\n        switch(action){\n            case \"discover_agents\":\n                result = await orchestratorService.discoverAgents(data);\n                break;\n            case \"orchestrate_quiz_workflow\":\n                result = await orchestratorService.orchestrateQuizWorkflow(data);\n                break;\n            case \"monitor_system_health\":\n                result = await orchestratorService.monitorSystemHealth(data);\n                break;\n            case \"get_chat_history\":\n                result = orchestratorService.getChatHistory();\n                break;\n            case \"get_workflow_chat_history\":\n                result = orchestratorService.getWorkflowChatHistory(data.workflowId);\n                break;\n            case \"clear_chat_history\":\n                orchestratorService.clearChatHistory();\n                result = {\n                    success: true\n                };\n                break;\n            case \"get_workflows\":\n                result = orchestratorService.getAllWorkflows();\n                break;\n            case \"get_workflow\":\n                result = orchestratorService.getWorkflow(data.workflowId);\n                break;\n            case \"get_agents\":\n                result = orchestratorService.getAllAgents();\n                break;\n            case \"get_agent\":\n                result = orchestratorService.getAgent(data.url);\n                break;\n            case \"determine_agent_for_query\":\n                result = orchestratorService.determineAgentForQuery(data.query);\n                break;\n            case \"handle_general_mcp_query\":\n                result = await orchestratorService.handleGeneralMCPQuery(data);\n                break;\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: `Unknown action: ${action}`\n                }, {\n                    status: 400\n                });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error(\"Orchestrator API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const action = searchParams.get(\"action\");\n        let result;\n        switch(action){\n            case \"health\":\n                result = {\n                    status: \"ok\",\n                    service: \"nextjs-orchestrator\"\n                };\n                break;\n            case \"status\":\n                result = {\n                    orchestrator: {\n                        status: \"running\",\n                        uptime: process.uptime(),\n                        memory: process.memoryUsage(),\n                        version: \"1.0.0\"\n                    },\n                    agents: {\n                        discovered: orchestratorService.getAllAgents().length,\n                        active: orchestratorService.getAllAgents().filter((a)=>a.status === \"online\").length,\n                        last_discovery: new Date().toISOString()\n                    }\n                };\n                break;\n            case \"chat_history\":\n                result = orchestratorService.getChatHistory();\n                break;\n            case \"workflows\":\n                result = orchestratorService.getAllWorkflows();\n                break;\n            case \"agents\":\n                result = orchestratorService.getAllAgents();\n                break;\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: `Unknown action: ${action}`\n                }, {\n                    status: 400\n                });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error(\"Orchestrator GET API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9vcmNoZXN0cmF0b3Ivcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNjO0FBRXRFLHVDQUF1QztBQUN2QyxJQUFJRTtBQUVKLGtDQUFrQztBQUNsQyxJQUFJLENBQUNBLHFCQUFxQjtJQUN4QkEsc0JBQXNCLElBQUlELCtFQUF5QkE7QUFDckQ7QUFFTyxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLE1BQU0sR0FBR0g7UUFFNUIsSUFBSUk7UUFFSixPQUFRRjtZQUNOLEtBQUs7Z0JBQ0hFLFNBQVMsTUFBTVAsb0JBQW9CUSxjQUFjLENBQUNGO2dCQUNsRDtZQUVGLEtBQUs7Z0JBQ0hDLFNBQVMsTUFBTVAsb0JBQW9CUyx1QkFBdUIsQ0FBQ0g7Z0JBQzNEO1lBRUYsS0FBSztnQkFDSEMsU0FBUyxNQUFNUCxvQkFBb0JVLG1CQUFtQixDQUFDSjtnQkFDdkQ7WUFFRixLQUFLO2dCQUNIQyxTQUFTUCxvQkFBb0JXLGNBQWM7Z0JBQzNDO1lBRUYsS0FBSztnQkFDSEosU0FBU1Asb0JBQW9CWSxzQkFBc0IsQ0FBQ04sS0FBS08sVUFBVTtnQkFDbkU7WUFFRixLQUFLO2dCQUNIYixvQkFBb0JjLGdCQUFnQjtnQkFDcENQLFNBQVM7b0JBQUVRLFNBQVM7Z0JBQUs7Z0JBQ3pCO1lBRUYsS0FBSztnQkFDSFIsU0FBU1Asb0JBQW9CZ0IsZUFBZTtnQkFDNUM7WUFFRixLQUFLO2dCQUNIVCxTQUFTUCxvQkFBb0JpQixXQUFXLENBQUNYLEtBQUtPLFVBQVU7Z0JBQ3hEO1lBRUYsS0FBSztnQkFDSE4sU0FBU1Asb0JBQW9Ca0IsWUFBWTtnQkFDekM7WUFFRixLQUFLO2dCQUNIWCxTQUFTUCxvQkFBb0JtQixRQUFRLENBQUNiLEtBQUtjLEdBQUc7Z0JBQzlDO1lBRUYsS0FBSztnQkFDSGIsU0FBU1Asb0JBQW9CcUIsc0JBQXNCLENBQUNmLEtBQUtnQixLQUFLO2dCQUM5RDtZQUVGLEtBQUs7Z0JBQ0hmLFNBQVMsTUFBTVAsb0JBQW9CdUIscUJBQXFCLENBQUNqQjtnQkFDekQ7WUFFRjtnQkFDRSxPQUFPUixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtvQkFBRW9CLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRW5CLE9BQU8sQ0FBQztnQkFBQyxHQUNyQztvQkFBRW9CLFFBQVE7Z0JBQUk7UUFFcEI7UUFFQSxPQUFPM0IscURBQVlBLENBQUNNLElBQUksQ0FBQ0c7SUFDM0IsRUFBRSxPQUFPaUIsT0FBTztRQUNkRSxRQUFRRixLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPMUIscURBQVlBLENBQUNNLElBQUksQ0FDdEI7WUFDRW9CLE9BQU9BLGlCQUFpQkcsUUFBUUgsTUFBTUksT0FBTyxHQUFHO1FBQ2xELEdBQ0E7WUFBRUgsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlSSxJQUFJM0IsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU0sRUFBRTRCLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUk3QixRQUFRa0IsR0FBRztRQUM1QyxNQUFNZixTQUFTeUIsYUFBYUUsR0FBRyxDQUFDO1FBRWhDLElBQUl6QjtRQUVKLE9BQVFGO1lBQ04sS0FBSztnQkFDSEUsU0FBUztvQkFBRWtCLFFBQVE7b0JBQU1RLFNBQVM7Z0JBQXNCO2dCQUN4RDtZQUVGLEtBQUs7Z0JBQ0gxQixTQUFTO29CQUNQMkIsY0FBYzt3QkFDWlQsUUFBUTt3QkFDUlUsUUFBUUMsUUFBUUQsTUFBTTt3QkFDdEJFLFFBQVFELFFBQVFFLFdBQVc7d0JBQzNCQyxTQUFTO29CQUNYO29CQUNBQyxRQUFRO3dCQUNOQyxZQUFZekMsb0JBQW9Ca0IsWUFBWSxHQUFHd0IsTUFBTTt3QkFDckRDLFFBQVEzQyxvQkFDTGtCLFlBQVksR0FDWjBCLE1BQU0sQ0FBQyxDQUFDQyxJQUFNQSxFQUFFcEIsTUFBTSxLQUFLLFVBQVVpQixNQUFNO3dCQUM5Q0ksZ0JBQWdCLElBQUlDLE9BQU9DLFdBQVc7b0JBQ3hDO2dCQUNGO2dCQUNBO1lBRUYsS0FBSztnQkFDSHpDLFNBQVNQLG9CQUFvQlcsY0FBYztnQkFDM0M7WUFFRixLQUFLO2dCQUNISixTQUFTUCxvQkFBb0JnQixlQUFlO2dCQUM1QztZQUVGLEtBQUs7Z0JBQ0hULFNBQVNQLG9CQUFvQmtCLFlBQVk7Z0JBQ3pDO1lBRUY7Z0JBQ0UsT0FBT3BCLHFEQUFZQSxDQUFDTSxJQUFJLENBQ3RCO29CQUFFb0IsT0FBTyxDQUFDLGdCQUFnQixFQUFFbkIsT0FBTyxDQUFDO2dCQUFDLEdBQ3JDO29CQUFFb0IsUUFBUTtnQkFBSTtRQUVwQjtRQUVBLE9BQU8zQixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDRztJQUMzQixFQUFFLE9BQU9pQixPQUFPO1FBQ2RFLFFBQVFGLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU8xQixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtZQUNFb0IsT0FBT0EsaUJBQWlCRyxRQUFRSCxNQUFNSSxPQUFPLEdBQUc7UUFDbEQsR0FDQTtZQUFFSCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3F1aXotZnJvbnRlbmQvLi9zcmMvYXBwL2FwaS9vcmNoZXN0cmF0b3Ivcm91dGUudHM/Yjg0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCB7IE5leHRKU09yY2hlc3RyYXRvclNlcnZpY2UgfSBmcm9tIFwiQC9saWIvb3JjaGVzdHJhdG9yU2VydmljZVwiO1xyXG5cclxuLy8gR2xvYmFsIG9yY2hlc3RyYXRvciBzZXJ2aWNlIGluc3RhbmNlXHJcbmxldCBvcmNoZXN0cmF0b3JTZXJ2aWNlOiBOZXh0SlNPcmNoZXN0cmF0b3JTZXJ2aWNlO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBvcmNoZXN0cmF0b3Igc2VydmljZVxyXG5pZiAoIW9yY2hlc3RyYXRvclNlcnZpY2UpIHtcclxuICBvcmNoZXN0cmF0b3JTZXJ2aWNlID0gbmV3IE5leHRKU09yY2hlc3RyYXRvclNlcnZpY2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgeyBhY3Rpb24sIC4uLmRhdGEgfSA9IGJvZHk7XHJcblxyXG4gICAgbGV0IHJlc3VsdDtcclxuXHJcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICBjYXNlIFwiZGlzY292ZXJfYWdlbnRzXCI6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgb3JjaGVzdHJhdG9yU2VydmljZS5kaXNjb3ZlckFnZW50cyhkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJvcmNoZXN0cmF0ZV9xdWl6X3dvcmtmbG93XCI6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgb3JjaGVzdHJhdG9yU2VydmljZS5vcmNoZXN0cmF0ZVF1aXpXb3JrZmxvdyhkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJtb25pdG9yX3N5c3RlbV9oZWFsdGhcIjpcclxuICAgICAgICByZXN1bHQgPSBhd2FpdCBvcmNoZXN0cmF0b3JTZXJ2aWNlLm1vbml0b3JTeXN0ZW1IZWFsdGgoZGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwiZ2V0X2NoYXRfaGlzdG9yeVwiOlxyXG4gICAgICAgIHJlc3VsdCA9IG9yY2hlc3RyYXRvclNlcnZpY2UuZ2V0Q2hhdEhpc3RvcnkoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJnZXRfd29ya2Zsb3dfY2hhdF9oaXN0b3J5XCI6XHJcbiAgICAgICAgcmVzdWx0ID0gb3JjaGVzdHJhdG9yU2VydmljZS5nZXRXb3JrZmxvd0NoYXRIaXN0b3J5KGRhdGEud29ya2Zsb3dJZCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwiY2xlYXJfY2hhdF9oaXN0b3J5XCI6XHJcbiAgICAgICAgb3JjaGVzdHJhdG9yU2VydmljZS5jbGVhckNoYXRIaXN0b3J5KCk7XHJcbiAgICAgICAgcmVzdWx0ID0geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwiZ2V0X3dvcmtmbG93c1wiOlxyXG4gICAgICAgIHJlc3VsdCA9IG9yY2hlc3RyYXRvclNlcnZpY2UuZ2V0QWxsV29ya2Zsb3dzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwiZ2V0X3dvcmtmbG93XCI6XHJcbiAgICAgICAgcmVzdWx0ID0gb3JjaGVzdHJhdG9yU2VydmljZS5nZXRXb3JrZmxvdyhkYXRhLndvcmtmbG93SWQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcImdldF9hZ2VudHNcIjpcclxuICAgICAgICByZXN1bHQgPSBvcmNoZXN0cmF0b3JTZXJ2aWNlLmdldEFsbEFnZW50cygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcImdldF9hZ2VudFwiOlxyXG4gICAgICAgIHJlc3VsdCA9IG9yY2hlc3RyYXRvclNlcnZpY2UuZ2V0QWdlbnQoZGF0YS51cmwpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcImRldGVybWluZV9hZ2VudF9mb3JfcXVlcnlcIjpcclxuICAgICAgICByZXN1bHQgPSBvcmNoZXN0cmF0b3JTZXJ2aWNlLmRldGVybWluZUFnZW50Rm9yUXVlcnkoZGF0YS5xdWVyeSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwiaGFuZGxlX2dlbmVyYWxfbWNwX3F1ZXJ5XCI6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgb3JjaGVzdHJhdG9yU2VydmljZS5oYW5kbGVHZW5lcmFsTUNQUXVlcnkoZGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6IGBVbmtub3duIGFjdGlvbjogJHthY3Rpb259YCB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIk9yY2hlc3RyYXRvciBBUEkgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAge1xyXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiLFxyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IGFjdGlvbiA9IHNlYXJjaFBhcmFtcy5nZXQoXCJhY3Rpb25cIik7XHJcblxyXG4gICAgbGV0IHJlc3VsdDtcclxuXHJcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICBjYXNlIFwiaGVhbHRoXCI6XHJcbiAgICAgICAgcmVzdWx0ID0geyBzdGF0dXM6IFwib2tcIiwgc2VydmljZTogXCJuZXh0anMtb3JjaGVzdHJhdG9yXCIgfTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJzdGF0dXNcIjpcclxuICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICBvcmNoZXN0cmF0b3I6IHtcclxuICAgICAgICAgICAgc3RhdHVzOiBcInJ1bm5pbmdcIixcclxuICAgICAgICAgICAgdXB0aW1lOiBwcm9jZXNzLnVwdGltZSgpLFxyXG4gICAgICAgICAgICBtZW1vcnk6IHByb2Nlc3MubWVtb3J5VXNhZ2UoKSxcclxuICAgICAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGFnZW50czoge1xyXG4gICAgICAgICAgICBkaXNjb3ZlcmVkOiBvcmNoZXN0cmF0b3JTZXJ2aWNlLmdldEFsbEFnZW50cygpLmxlbmd0aCxcclxuICAgICAgICAgICAgYWN0aXZlOiBvcmNoZXN0cmF0b3JTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgLmdldEFsbEFnZW50cygpXHJcbiAgICAgICAgICAgICAgLmZpbHRlcigoYSkgPT4gYS5zdGF0dXMgPT09IFwib25saW5lXCIpLmxlbmd0aCxcclxuICAgICAgICAgICAgbGFzdF9kaXNjb3Zlcnk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJjaGF0X2hpc3RvcnlcIjpcclxuICAgICAgICByZXN1bHQgPSBvcmNoZXN0cmF0b3JTZXJ2aWNlLmdldENoYXRIaXN0b3J5KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlIFwid29ya2Zsb3dzXCI6XHJcbiAgICAgICAgcmVzdWx0ID0gb3JjaGVzdHJhdG9yU2VydmljZS5nZXRBbGxXb3JrZmxvd3MoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJhZ2VudHNcIjpcclxuICAgICAgICByZXN1bHQgPSBvcmNoZXN0cmF0b3JTZXJ2aWNlLmdldEFsbEFnZW50cygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IGVycm9yOiBgVW5rbm93biBhY3Rpb246ICR7YWN0aW9ufWAgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJPcmNoZXN0cmF0b3IgR0VUIEFQSSBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIk5leHRKU09yY2hlc3RyYXRvclNlcnZpY2UiLCJvcmNoZXN0cmF0b3JTZXJ2aWNlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsImFjdGlvbiIsImRhdGEiLCJyZXN1bHQiLCJkaXNjb3ZlckFnZW50cyIsIm9yY2hlc3RyYXRlUXVpeldvcmtmbG93IiwibW9uaXRvclN5c3RlbUhlYWx0aCIsImdldENoYXRIaXN0b3J5IiwiZ2V0V29ya2Zsb3dDaGF0SGlzdG9yeSIsIndvcmtmbG93SWQiLCJjbGVhckNoYXRIaXN0b3J5Iiwic3VjY2VzcyIsImdldEFsbFdvcmtmbG93cyIsImdldFdvcmtmbG93IiwiZ2V0QWxsQWdlbnRzIiwiZ2V0QWdlbnQiLCJ1cmwiLCJkZXRlcm1pbmVBZ2VudEZvclF1ZXJ5IiwicXVlcnkiLCJoYW5kbGVHZW5lcmFsTUNQUXVlcnkiLCJlcnJvciIsInN0YXR1cyIsImNvbnNvbGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJHRVQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJnZXQiLCJzZXJ2aWNlIiwib3JjaGVzdHJhdG9yIiwidXB0aW1lIiwicHJvY2VzcyIsIm1lbW9yeSIsIm1lbW9yeVVzYWdlIiwidmVyc2lvbiIsImFnZW50cyIsImRpc2NvdmVyZWQiLCJsZW5ndGgiLCJhY3RpdmUiLCJmaWx0ZXIiLCJhIiwibGFzdF9kaXNjb3ZlcnkiLCJEYXRlIiwidG9JU09TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/orchestrator/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/orchestratorService.ts":
/*!****************************************!*\
  !*** ./src/lib/orchestratorService.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NextJSOrchestratorService: () => (/* binding */ NextJSOrchestratorService)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\nclass NextJSOrchestratorService {\n    constructor(){\n        this.agents = new Map();\n        this.workflows = new Map();\n        this.chatHistory = [];\n        this.knownAgentUrls = [\n            \"http://localhost:3000\",\n            \"http://localhost:4001\"\n        ];\n        this.startAgentDiscovery();\n        this.initializeVirtualAgents();\n    }\n    /**\r\n   * Initialize virtual MCP agents that don't have physical endpoints\r\n   */ initializeVirtualAgents() {\n        // Add the normal MCP agent as a virtual agent\n        const normalMCPAgent = {\n            name: \"General MCP Agent\",\n            url: \"virtual://normal-mcp-agent\",\n            skills: [\n                \"general-conversation\",\n                \"information-retrieval\",\n                \"task-assistance\"\n            ],\n            status: \"online\",\n            lastSeen: new Date(),\n            capabilities: {\n                description: \"Handles general queries, conversations, and non-quiz related tasks\",\n                type: \"virtual\"\n            }\n        };\n        this.agents.set(\"virtual://normal-mcp-agent\", normalMCPAgent);\n    }\n    /**\r\n   * Determine which agent should handle a query based on content analysis\r\n   */ determineAgentForQuery(query) {\n        const lowerQuery = query.toLowerCase();\n        // Quiz-related queries go to backend agent\n        if (lowerQuery.includes(\"quiz\") || lowerQuery.includes(\"question\") || lowerQuery.includes(\"test\") || lowerQuery.includes(\"exam\") || lowerQuery.includes(\"assessment\") || lowerQuery.includes(\"multiple choice\")) {\n            return this.agents.get(\"http://localhost:4001\") || null;\n        }\n        // Workflow/orchestration queries go to frontend agent\n        if (lowerQuery.includes(\"workflow\") || lowerQuery.includes(\"orchestrate\") || lowerQuery.includes(\"coordinate\") || lowerQuery.includes(\"manage\")) {\n            return this.agents.get(\"http://localhost:3000\") || null;\n        }\n        // All other queries go to normal MCP agent\n        return this.agents.get(\"virtual://normal-mcp-agent\") || null;\n    }\n    /**\r\n   * Handle general MCP queries that don't require specific agent routing\r\n   */ async handleGeneralMCPQuery(requestData) {\n        const { query, context } = requestData;\n        const chatMode = context?.chatMode || \"quiz\"; // Default to quiz mode\n        // Add query to chat history\n        this.addChatMessage({\n            type: \"user\",\n            content: query,\n            metadata: {\n                status: \"processing\"\n            }\n        });\n        let response = \"\";\n        let agentId = \"\";\n        if (chatMode === \"quiz\" || query.toLowerCase().includes(\"quiz\") || query.toLowerCase().includes(\"question\")) {\n            // Quiz-focused responses\n            agentId = \"quiz-agent\";\n            if (query.toLowerCase().includes(\"create quiz\")) {\n                response = `Great! I'd love to help you create a quiz. What topic would you like the quiz to cover? \r\n\r\n**Examples you can try:**\r\n• \"Create a quiz about the solar system\"\r\n• \"Make a science quiz about photosynthesis\" \r\n• \"Generate a history quiz about the Renaissance\"\r\n• \"Create a math quiz about algebra\"\r\n• \"Make a quiz about JavaScript programming\"\r\n\r\nJust tell me the topic and I'll create 20 multiple-choice questions for you!`;\n            } else if (query.toLowerCase().includes(\"science\")) {\n                response = `Perfect! I can create science quizzes on any topic. Here are some examples:\r\n\r\n**Science Quiz Topics:**\r\n• \"Create a quiz about the solar system and planets\"\r\n• \"Make a biology quiz about human anatomy\"\r\n• \"Generate a chemistry quiz about periodic table\"\r\n• \"Create a physics quiz about Newton's laws\"\r\n• \"Make an astronomy quiz about stars and galaxies\"\r\n\r\nWhat specific science topic interests you? I can generate multiple choice questions, true/false, or short answer questions.`;\n            } else if (query.toLowerCase().includes(\"history\")) {\n                response = `Excellent choice! I can create history quizzes covering any time period or region. Here are some examples:\r\n\r\n**History Quiz Topics:**\r\n• \"Create a quiz about World War II\"\r\n• \"Make a quiz about ancient Egypt\"\r\n• \"Generate a quiz about the American Revolution\"\r\n• \"Create a quiz about the Renaissance period\"\r\n• \"Make a quiz about medieval times\"\r\n\r\nWhat historical period or event would you like to focus on?`;\n            } else if (query.toLowerCase().includes(\"math\")) {\n                response = `Math quizzes are my specialty! I can create questions covering any math topic. Here are some examples:\r\n\r\n**Math Quiz Topics:**\r\n• \"Create a quiz about algebra and equations\"\r\n• \"Make a geometry quiz about shapes and angles\"\r\n• \"Generate a calculus quiz about derivatives\"\r\n• \"Create a statistics quiz about probability\"\r\n• \"Make a quiz about fractions and decimals\"\r\n\r\nWhat level and type of math problems would you like? I can make them as easy or challenging as you need.`;\n            } else if (query.toLowerCase().includes(\"general knowledge\")) {\n                response = `General knowledge quizzes are fun! I can create questions covering many topics. Here are some examples:\r\n\r\n**General Knowledge Topics:**\r\n• \"Create a quiz about world capitals\"\r\n• \"Make a quiz about famous landmarks\"\r\n• \"Generate a quiz about literature and authors\"\r\n• \"Create a quiz about sports and athletes\"\r\n• \"Make a quiz about technology and inventions\"\r\n\r\nWhat area of general knowledge would you like to test?`;\n            } else {\n                response = `I'm your Quiz Agent! I can help you create quizzes on any topic. Here's how to get started:\r\n\r\n**Quick Start Options:**\r\n• Click any suggested button above (Create Quiz, Science Topics, etc.)\r\n• Type \"Create a quiz about [your topic]\"\r\n• Paste content and ask me to make a quiz from it\r\n\r\n**Examples:**\r\n• \"Create a quiz about the solar system\"\r\n• \"Make a science quiz about photosynthesis\"\r\n• \"Generate a history quiz about World War II\"\r\n• \"Create a math quiz about algebra\"\r\n\r\nWhat would you like to quiz about?`;\n            }\n        } else if (query.toLowerCase().includes(\"help\") || query.toLowerCase().includes(\"plan\") || query.toLowerCase().includes(\"explain\")) {\n            // Help/planning mode - provide guidance without needing backend\n            agentId = \"quiz-agent\";\n            response = `I'm your Quiz Agent! I can help you plan and design quizzes even when the generation service is temporarily unavailable.\r\n\r\n**I can help you with:**\r\n• Planning quiz topics and structure\r\n• Suggesting question types and formats\r\n• Explaining quiz creation best practices\r\n• Brainstorming quiz content ideas\r\n• Reviewing quiz concepts\r\n\r\n**What would you like help with?**\r\n• \"Help me plan a science quiz about photosynthesis\"\r\n• \"What topics should I include in a history quiz about World War II?\"\r\n• \"Explain how to write good multiple choice questions\"\r\n• \"Suggest quiz formats for different subjects\"\r\n\r\nHow can I assist you with quiz planning today?`;\n        } else {\n            // General chat mode\n            agentId = \"normal-mcp-agent\";\n            response = `I'm your Quiz Agent, but I can also help with general questions! You asked: \"${query}\". \r\n\r\nI'm here to assist with quiz creation, planning, and answering any questions you have. Even if the quiz generation service is temporarily unavailable, I can still help you plan quizzes and answer questions about quiz creation.\r\n\r\nHow can I help you today?`;\n        }\n        this.addChatMessage({\n            type: \"agent\",\n            content: response,\n            metadata: {\n                agentId: agentId,\n                status: \"completed\"\n            }\n        });\n        return {\n            success: true,\n            response,\n            agent: {\n                name: \"Quiz Agent\"\n            },\n            timestamp: new Date().toISOString()\n        };\n    }\n    /**\r\n   * Start periodic agent discovery\r\n   */ startAgentDiscovery() {\n        // Initial discovery\n        this.discoverAgents();\n        // Periodic discovery every 30 seconds\n        setInterval(()=>{\n            this.discoverAgents();\n        }, 30000);\n    }\n    /**\r\n   * Discover agents in the network\r\n   */ async discoverAgents(requestData = {}) {\n        const discoveredAgents = [];\n        for (const url of this.knownAgentUrls){\n            try {\n                const agentCard = await this.getAgentCard(url);\n                const agentInfo = {\n                    name: agentCard.name,\n                    url: url,\n                    skills: agentCard.skills?.map((s)=>s.id) || [],\n                    status: \"online\",\n                    lastSeen: new Date(),\n                    capabilities: agentCard.capabilities\n                };\n                this.agents.set(url, agentInfo);\n                discoveredAgents.push(agentInfo);\n                // Add discovery message to chat\n                this.addChatMessage({\n                    type: \"system\",\n                    content: `Discovered agent: ${agentCard.name} at ${url}`,\n                    metadata: {\n                        agentId: url\n                    }\n                });\n            } catch (error) {\n                console.error(`Failed to discover agent at ${url}:`, error);\n                const agentInfo = {\n                    name: `Unknown Agent (${url})`,\n                    url: url,\n                    skills: [],\n                    status: \"offline\",\n                    lastSeen: new Date()\n                };\n                this.agents.set(url, agentInfo);\n            }\n        }\n        return {\n            agents: discoveredAgents,\n            count: discoveredAgents.length,\n            timestamp: new Date().toISOString()\n        };\n    }\n    /**\r\n   * Get agent card from URL using A2A SDK\r\n   */ async getAgentCard(url) {\n        try {\n            // Import A2A client dynamically to avoid SSR issues\n            const { A2AClient } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@a2a-js\").then(__webpack_require__.bind(__webpack_require__, /*! @a2a-js/sdk/client */ \"(rsc)/./node_modules/@a2a-js/sdk/dist/client/index.js\"));\n            // Create A2A client\n            const a2aClient = new A2AClient();\n            // Get agent card using A2A SDK\n            return await a2aClient.getAgentCard(url);\n        } catch (error) {\n            console.error(\"Failed to get agent card via A2A SDK:\", error);\n            // Fallback to direct fetch if A2A SDK fails\n            const controller = new AbortController();\n            const timeoutId = setTimeout(()=>controller.abort(), 5000);\n            try {\n                const response = await fetch(`${url}/.well-known/agent-card.json`, {\n                    signal: controller.signal\n                });\n                clearTimeout(timeoutId);\n                return response.json();\n            } catch (fetchError) {\n                clearTimeout(timeoutId);\n                throw fetchError;\n            }\n        }\n    }\n    /**\r\n   * Orchestrate complete quiz workflow with chat integration\r\n   *\r\n   * This method coordinates the entire quiz generation process by:\r\n   * 1. Creating a workflow with predefined steps\r\n   * 2. Executing steps in dependency order\r\n   * 3. Providing real-time chat updates throughout the process\r\n   * 4. Handling errors and providing feedback\r\n   *\r\n   * @param requestData - Contains topic, difficulty, and question_count\r\n   * @returns Promise with workflow results and status\r\n   */ async orchestrateQuizWorkflow(requestData) {\n        // Generate unique workflow ID using timestamp for uniqueness\n        const workflowId = `workflow_${Date.now()}`;\n        // Extract and set default values for quiz parameters\n        const { topic, difficulty = \"intermediate\", question_count = 5 } = requestData;\n        try {\n            // Notify chat system that workflow is starting\n            // This provides user feedback and maintains audit trail\n            this.addChatMessage({\n                type: \"orchestrator\",\n                content: `Starting quiz workflow for topic: \"${topic}\"`,\n                metadata: {\n                    workflowId,\n                    status: \"starting\"\n                }\n            });\n            // Define the workflow structure with two sequential steps:\n            // Step 1: Generate quiz questions (backend agent)\n            // Step 2: Display quiz (frontend agent)\n            const workflow = {\n                id: workflowId,\n                name: `Quiz Generation: ${topic}`,\n                steps: [\n                    {\n                        id: \"step_1\",\n                        agentId: \"http://localhost:4001\",\n                        skillId: \"generate-quiz\",\n                        input: {\n                            topic,\n                            difficulty,\n                            question_count\n                        },\n                        status: \"pending\"\n                    },\n                    {\n                        id: \"step_2\",\n                        agentId: \"http://localhost:3000\",\n                        skillId: \"display_quiz\",\n                        input: {},\n                        dependencies: [\n                            \"step_1\"\n                        ],\n                        status: \"pending\"\n                    }\n                ],\n                status: \"running\",\n                createdAt: new Date()\n            };\n            // Store workflow in memory for tracking and management\n            this.workflows.set(workflowId, workflow);\n            // Execute the workflow steps in dependency order with chat integration\n            // This method handles step execution, dependency checking, and chat updates\n            const result = await this.executeWorkflowWithChat(workflowId);\n            // Notify chat system of successful completion\n            // Provides user feedback on the number of questions generated\n            this.addChatMessage({\n                type: \"orchestrator\",\n                content: `Quiz workflow completed successfully! Generated ${result.length} questions.`,\n                metadata: {\n                    workflowId,\n                    status: \"completed\"\n                }\n            });\n            // Return structured response with workflow details\n            return {\n                workflow_id: workflowId,\n                status: \"completed\",\n                result: result,\n                timestamp: new Date().toISOString()\n            };\n        } catch (error) {\n            // Log error for debugging purposes\n            console.error(\"Workflow orchestration failed:\", error);\n            // Notify chat system of workflow failure\n            // Provides user feedback on what went wrong\n            this.addChatMessage({\n                type: \"orchestrator\",\n                content: `Workflow failed: ${error instanceof Error ? error.message : \"Unknown error\"}`,\n                metadata: {\n                    workflowId,\n                    status: \"failed\"\n                }\n            });\n            // Re-throw error to be handled by calling code\n            throw error;\n        }\n    }\n    /**\r\n   * Execute workflow with chat integration\r\n   */ async executeWorkflowWithChat(workflowId) {\n        const workflow = this.workflows.get(workflowId);\n        if (!workflow) {\n            throw new Error(`Workflow ${workflowId} not found`);\n        }\n        const results = [];\n        for (const step of workflow.steps){\n            try {\n                // Add step start message to chat\n                this.addChatMessage({\n                    type: \"orchestrator\",\n                    content: `Executing step: ${step.skillId} on ${step.agentId}`,\n                    metadata: {\n                        workflowId,\n                        agentId: step.agentId,\n                        skillId: step.skillId,\n                        status: \"running\"\n                    }\n                });\n                // Check dependencies\n                if (step.dependencies) {\n                    const dependencyResults = step.dependencies.map((depId)=>{\n                        const depStep = workflow.steps.find((s)=>s.id === depId);\n                        return depStep?.result;\n                    });\n                    if (dependencyResults.some((r)=>!r)) {\n                        throw new Error(`Dependencies not met for step ${step.id}`);\n                    }\n                }\n                // Execute step\n                step.status = \"running\";\n                const result = await this.executeStep(step);\n                step.result = result;\n                step.status = \"completed\";\n                results.push(result);\n                // Add step completion message to chat\n                this.addChatMessage({\n                    type: \"agent\",\n                    content: `Step completed: ${step.skillId}`,\n                    metadata: {\n                        workflowId,\n                        agentId: step.agentId,\n                        skillId: step.skillId,\n                        status: \"completed\"\n                    }\n                });\n            } catch (error) {\n                step.status = \"failed\";\n                workflow.status = \"failed\";\n                // Add step failure message to chat\n                this.addChatMessage({\n                    type: \"agent\",\n                    content: `Step failed: ${step.skillId} - ${error instanceof Error ? error.message : \"Unknown error\"}`,\n                    metadata: {\n                        workflowId,\n                        agentId: step.agentId,\n                        skillId: step.skillId,\n                        status: \"failed\"\n                    }\n                });\n                throw error;\n            }\n        }\n        workflow.status = \"completed\";\n        workflow.completedAt = new Date();\n        return results;\n    }\n    /**\r\n   * Execute a single workflow step using real A2A SDK\r\n   */ async executeStep(step) {\n        const agent = this.agents.get(step.agentId);\n        if (!agent) {\n            throw new Error(`Agent ${step.agentId} not found`);\n        }\n        try {\n            // Import A2A client dynamically to avoid SSR issues\n            const { A2AClient, TaskSubmissionRequest } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@a2a-js\").then(__webpack_require__.bind(__webpack_require__, /*! @a2a-js/sdk/client */ \"(rsc)/./node_modules/@a2a-js/sdk/dist/client/index.js\"));\n            // Create A2A client\n            const a2aClient = new A2AClient();\n            // Create task submission request\n            const request = {\n                skillId: step.skillId,\n                input: {\n                    parts: [\n                        {\n                            kind: \"text\",\n                            text: JSON.stringify(step.input)\n                        }\n                    ]\n                }\n            };\n            // Submit task using A2A SDK\n            const task = await a2aClient.submitTask(step.agentId, request);\n            // Wait for task completion using A2A SDK\n            const completedTask = await a2aClient.waitForTaskCompletion(step.agentId, task.id);\n            if (completedTask.status.state === \"completed\" && completedTask.artifacts) {\n                // Extract data from A2A artifacts\n                const artifact = completedTask.artifacts[0];\n                if (artifact && artifact.parts) {\n                    return JSON.parse(artifact.parts[0].text);\n                }\n            }\n            throw new Error(\"Task did not complete successfully or no data found\");\n        } catch (error) {\n            console.error(\"A2A task execution failed:\", error);\n            throw new Error(`A2A agent call failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    /**\r\n   * Monitor system health\r\n   */ async monitorSystemHealth(requestData) {\n        const healthChecks = [];\n        const agentEntries = Array.from(this.agents.entries());\n        for(let i = 0; i < agentEntries.length; i++){\n            const [url, agent] = agentEntries[i];\n            try {\n                const controller = new AbortController();\n                const timeoutId = setTimeout(()=>controller.abort(), 3000);\n                const response = await fetch(`${url}/health`, {\n                    signal: controller.signal\n                });\n                clearTimeout(timeoutId);\n                healthChecks.push({\n                    agent: agent.name,\n                    url: url,\n                    status: \"healthy\",\n                    response_time: response.headers.get(\"x-response-time\") || \"unknown\"\n                });\n            } catch (error) {\n                healthChecks.push({\n                    agent: agent.name,\n                    url: url,\n                    status: \"unhealthy\",\n                    error: error instanceof Error ? error.message : \"Unknown error\"\n                });\n            }\n        }\n        const overallHealth = healthChecks.every((h)=>h.status === \"healthy\") ? \"healthy\" : \"degraded\";\n        return {\n            overall_health: overallHealth,\n            agents: healthChecks,\n            timestamp: new Date().toISOString()\n        };\n    }\n    /**\r\n   * Add message to chat history\r\n   */ addChatMessage(message) {\n        const chatMessage = {\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(),\n            timestamp: new Date(),\n            ...message\n        };\n        this.chatHistory.push(chatMessage);\n        return chatMessage;\n    }\n    /**\r\n   * Get chat history\r\n   */ getChatHistory() {\n        return this.chatHistory;\n    }\n    /**\r\n   * Get chat history for a specific workflow\r\n   */ getWorkflowChatHistory(workflowId) {\n        return this.chatHistory.filter((msg)=>msg.metadata?.workflowId === workflowId);\n    }\n    /**\r\n   * Clear chat history\r\n   */ clearChatHistory() {\n        this.chatHistory = [];\n    }\n    /**\r\n   * Get all workflows\r\n   */ getAllWorkflows() {\n        return Array.from(this.workflows.values());\n    }\n    /**\r\n   * Get workflow by ID\r\n   */ getWorkflow(workflowId) {\n        return this.workflows.get(workflowId);\n    }\n    /**\r\n   * Get all agents\r\n   */ getAllAgents() {\n        return Array.from(this.agents.values());\n    }\n    /**\r\n   * Get agent by URL\r\n   */ getAgent(url) {\n        return this.agents.get(url);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFO1FBQzdELE1BQU11QyxjQUEyQjtZQUMvQnpFLElBQUloRCxnREFBTUE7WUFDVnNDLFdBQVcsSUFBSXRCO1lBQ2YsR0FBR2tFLE9BQU87UUFDWjtRQUNBLElBQUksQ0FBQzVFLFdBQVcsQ0FBQzJDLElBQUksQ0FBQ3dFO1FBQ3RCLE9BQU9BO0lBQ1Q7SUFFQTs7R0FFQyxHQUNEQyxpQkFBZ0M7UUFDOUIsT0FBTyxJQUFJLENBQUNwSCxXQUFXO0lBQ3pCO0lBRUE7O0dBRUMsR0FDRHFILHVCQUF1QnhELFVBQWtCLEVBQWlCO1FBQ3hELE9BQU8sSUFBSSxDQUFDN0QsV0FBVyxDQUFDc0gsTUFBTSxDQUM1QixDQUFDQyxNQUFRQSxJQUFJNUYsUUFBUSxFQUFFa0MsZUFBZUE7SUFFMUM7SUFFQTs7R0FFQyxHQUNEMkQsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQ3hILFdBQVcsR0FBRyxFQUFFO0lBQ3ZCO0lBRUE7O0dBRUMsR0FDRHlILGtCQUE4QjtRQUM1QixPQUFPaEIsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQzNHLFNBQVMsQ0FBQzJILE1BQU07SUFDekM7SUFFQTs7R0FFQyxHQUNEQyxZQUFZOUQsVUFBa0IsRUFBd0I7UUFDcEQsT0FBTyxJQUFJLENBQUM5RCxTQUFTLENBQUNxQixHQUFHLENBQUN5QztJQUM1QjtJQUVBOztHQUVDLEdBQ0QrRCxlQUE0QjtRQUMxQixPQUFPbkIsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQzdHLE1BQU0sQ0FBQzZILE1BQU07SUFDdEM7SUFFQTs7R0FFQyxHQUNERyxTQUFTdkgsR0FBVyxFQUF5QjtRQUMzQyxPQUFPLElBQUksQ0FBQ1QsTUFBTSxDQUFDdUIsR0FBRyxDQUFDZDtJQUN6QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpei1mcm9udGVuZC8uL3NyYy9saWIvb3JjaGVzdHJhdG9yU2VydmljZS50cz9jMmI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFnZW50SW5mbyB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHVybDogc3RyaW5nO1xyXG4gIHNraWxsczogc3RyaW5nW107XHJcbiAgc3RhdHVzOiBcIm9ubGluZVwiIHwgXCJvZmZsaW5lXCIgfCBcInVua25vd25cIjtcclxuICBsYXN0U2VlbjogRGF0ZTtcclxuICBjYXBhYmlsaXRpZXM/OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29ya2Zsb3dTdGVwIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGFnZW50SWQ6IHN0cmluZztcclxuICBza2lsbElkOiBzdHJpbmc7XHJcbiAgaW5wdXQ6IGFueTtcclxuICBkZXBlbmRlbmNpZXM/OiBzdHJpbmdbXTtcclxuICBzdGF0dXM6IFwicGVuZGluZ1wiIHwgXCJydW5uaW5nXCIgfCBcImNvbXBsZXRlZFwiIHwgXCJmYWlsZWRcIjtcclxuICByZXN1bHQ/OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29ya2Zsb3cge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHN0ZXBzOiBXb3JrZmxvd1N0ZXBbXTtcclxuICBzdGF0dXM6IFwicGVuZGluZ1wiIHwgXCJydW5uaW5nXCIgfCBcImNvbXBsZXRlZFwiIHwgXCJmYWlsZWRcIjtcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbiAgY29tcGxldGVkQXQ/OiBEYXRlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENoYXRNZXNzYWdlIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHR5cGU6IFwidXNlclwiIHwgXCJvcmNoZXN0cmF0b3JcIiB8IFwiYWdlbnRcIiB8IFwic3lzdGVtXCI7XHJcbiAgY29udGVudDogc3RyaW5nO1xyXG4gIHRpbWVzdGFtcDogRGF0ZTtcclxuICBtZXRhZGF0YT86IHtcclxuICAgIHdvcmtmbG93SWQ/OiBzdHJpbmc7XHJcbiAgICBhZ2VudElkPzogc3RyaW5nO1xyXG4gICAgc2tpbGxJZD86IHN0cmluZztcclxuICAgIHN0YXR1cz86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTmV4dEpTT3JjaGVzdHJhdG9yU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBhZ2VudHM6IE1hcDxzdHJpbmcsIEFnZW50SW5mbz4gPSBuZXcgTWFwKCk7XHJcbiAgcHJpdmF0ZSB3b3JrZmxvd3M6IE1hcDxzdHJpbmcsIFdvcmtmbG93PiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIGNoYXRIaXN0b3J5OiBDaGF0TWVzc2FnZVtdID0gW107XHJcbiAgcHJpdmF0ZSBrbm93bkFnZW50VXJsczogc3RyaW5nW10gPSBbXHJcbiAgICBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiLCAvLyBGcm9udGVuZCBhZ2VudCAoc2VsZilcclxuICAgIFwiaHR0cDovL2xvY2FsaG9zdDo0MDAxXCIsIC8vIEJhY2tlbmQgYWdlbnRcclxuICBdO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc3RhcnRBZ2VudERpc2NvdmVyeSgpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplVmlydHVhbEFnZW50cygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSB2aXJ0dWFsIE1DUCBhZ2VudHMgdGhhdCBkb24ndCBoYXZlIHBoeXNpY2FsIGVuZHBvaW50c1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVZpcnR1YWxBZ2VudHMoKSB7XHJcbiAgICAvLyBBZGQgdGhlIG5vcm1hbCBNQ1AgYWdlbnQgYXMgYSB2aXJ0dWFsIGFnZW50XHJcbiAgICBjb25zdCBub3JtYWxNQ1BBZ2VudDogQWdlbnRJbmZvID0ge1xyXG4gICAgICBuYW1lOiBcIkdlbmVyYWwgTUNQIEFnZW50XCIsXHJcbiAgICAgIHVybDogXCJ2aXJ0dWFsOi8vbm9ybWFsLW1jcC1hZ2VudFwiLFxyXG4gICAgICBza2lsbHM6IFtcclxuICAgICAgICBcImdlbmVyYWwtY29udmVyc2F0aW9uXCIsXHJcbiAgICAgICAgXCJpbmZvcm1hdGlvbi1yZXRyaWV2YWxcIixcclxuICAgICAgICBcInRhc2stYXNzaXN0YW5jZVwiLFxyXG4gICAgICBdLFxyXG4gICAgICBzdGF0dXM6IFwib25saW5lXCIsXHJcbiAgICAgIGxhc3RTZWVuOiBuZXcgRGF0ZSgpLFxyXG4gICAgICBjYXBhYmlsaXRpZXM6IHtcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgIFwiSGFuZGxlcyBnZW5lcmFsIHF1ZXJpZXMsIGNvbnZlcnNhdGlvbnMsIGFuZCBub24tcXVpeiByZWxhdGVkIHRhc2tzXCIsXHJcbiAgICAgICAgdHlwZTogXCJ2aXJ0dWFsXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWdlbnRzLnNldChcInZpcnR1YWw6Ly9ub3JtYWwtbWNwLWFnZW50XCIsIG5vcm1hbE1DUEFnZW50KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZSB3aGljaCBhZ2VudCBzaG91bGQgaGFuZGxlIGEgcXVlcnkgYmFzZWQgb24gY29udGVudCBhbmFseXNpc1xyXG4gICAqL1xyXG4gIGRldGVybWluZUFnZW50Rm9yUXVlcnkocXVlcnk6IHN0cmluZyk6IEFnZW50SW5mbyB8IG51bGwge1xyXG4gICAgY29uc3QgbG93ZXJRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgLy8gUXVpei1yZWxhdGVkIHF1ZXJpZXMgZ28gdG8gYmFja2VuZCBhZ2VudFxyXG4gICAgaWYgKFxyXG4gICAgICBsb3dlclF1ZXJ5LmluY2x1ZGVzKFwicXVpelwiKSB8fFxyXG4gICAgICBsb3dlclF1ZXJ5LmluY2x1ZGVzKFwicXVlc3Rpb25cIikgfHxcclxuICAgICAgbG93ZXJRdWVyeS5pbmNsdWRlcyhcInRlc3RcIikgfHxcclxuICAgICAgbG93ZXJRdWVyeS5pbmNsdWRlcyhcImV4YW1cIikgfHxcclxuICAgICAgbG93ZXJRdWVyeS5pbmNsdWRlcyhcImFzc2Vzc21lbnRcIikgfHxcclxuICAgICAgbG93ZXJRdWVyeS5pbmNsdWRlcyhcIm11bHRpcGxlIGNob2ljZVwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmFnZW50cy5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjQwMDFcIikgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXb3JrZmxvdy9vcmNoZXN0cmF0aW9uIHF1ZXJpZXMgZ28gdG8gZnJvbnRlbmQgYWdlbnRcclxuICAgIGlmIChcclxuICAgICAgbG93ZXJRdWVyeS5pbmNsdWRlcyhcIndvcmtmbG93XCIpIHx8XHJcbiAgICAgIGxvd2VyUXVlcnkuaW5jbHVkZXMoXCJvcmNoZXN0cmF0ZVwiKSB8fFxyXG4gICAgICBsb3dlclF1ZXJ5LmluY2x1ZGVzKFwiY29vcmRpbmF0ZVwiKSB8fFxyXG4gICAgICBsb3dlclF1ZXJ5LmluY2x1ZGVzKFwibWFuYWdlXCIpXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYWdlbnRzLmdldChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiKSB8fCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsbCBvdGhlciBxdWVyaWVzIGdvIHRvIG5vcm1hbCBNQ1AgYWdlbnRcclxuICAgIHJldHVybiB0aGlzLmFnZW50cy5nZXQoXCJ2aXJ0dWFsOi8vbm9ybWFsLW1jcC1hZ2VudFwiKSB8fCBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIGdlbmVyYWwgTUNQIHF1ZXJpZXMgdGhhdCBkb24ndCByZXF1aXJlIHNwZWNpZmljIGFnZW50IHJvdXRpbmdcclxuICAgKi9cclxuICBhc3luYyBoYW5kbGVHZW5lcmFsTUNQUXVlcnkocmVxdWVzdERhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCB7IHF1ZXJ5LCBjb250ZXh0IH0gPSByZXF1ZXN0RGF0YTtcclxuICAgIGNvbnN0IGNoYXRNb2RlID0gY29udGV4dD8uY2hhdE1vZGUgfHwgXCJxdWl6XCI7IC8vIERlZmF1bHQgdG8gcXVpeiBtb2RlXHJcblxyXG4gICAgLy8gQWRkIHF1ZXJ5IHRvIGNoYXQgaGlzdG9yeVxyXG4gICAgdGhpcy5hZGRDaGF0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwidXNlclwiLFxyXG4gICAgICBjb250ZW50OiBxdWVyeSxcclxuICAgICAgbWV0YWRhdGE6IHsgc3RhdHVzOiBcInByb2Nlc3NpbmdcIiB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHJlc3BvbnNlID0gXCJcIjtcclxuICAgIGxldCBhZ2VudElkID0gXCJcIjtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGNoYXRNb2RlID09PSBcInF1aXpcIiB8fFxyXG4gICAgICBxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicXVpelwiKSB8fFxyXG4gICAgICBxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicXVlc3Rpb25cIilcclxuICAgICkge1xyXG4gICAgICAvLyBRdWl6LWZvY3VzZWQgcmVzcG9uc2VzXHJcbiAgICAgIGFnZW50SWQgPSBcInF1aXotYWdlbnRcIjtcclxuXHJcbiAgICAgIGlmIChxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiY3JlYXRlIHF1aXpcIikpIHtcclxuICAgICAgICByZXNwb25zZSA9IGBHcmVhdCEgSSdkIGxvdmUgdG8gaGVscCB5b3UgY3JlYXRlIGEgcXVpei4gV2hhdCB0b3BpYyB3b3VsZCB5b3UgbGlrZSB0aGUgcXVpeiB0byBjb3Zlcj8gXHJcblxyXG4qKkV4YW1wbGVzIHlvdSBjYW4gdHJ5OioqXHJcbuKAoiBcIkNyZWF0ZSBhIHF1aXogYWJvdXQgdGhlIHNvbGFyIHN5c3RlbVwiXHJcbuKAoiBcIk1ha2UgYSBzY2llbmNlIHF1aXogYWJvdXQgcGhvdG9zeW50aGVzaXNcIiBcclxu4oCiIFwiR2VuZXJhdGUgYSBoaXN0b3J5IHF1aXogYWJvdXQgdGhlIFJlbmFpc3NhbmNlXCJcclxu4oCiIFwiQ3JlYXRlIGEgbWF0aCBxdWl6IGFib3V0IGFsZ2VicmFcIlxyXG7igKIgXCJNYWtlIGEgcXVpeiBhYm91dCBKYXZhU2NyaXB0IHByb2dyYW1taW5nXCJcclxuXHJcbkp1c3QgdGVsbCBtZSB0aGUgdG9waWMgYW5kIEknbGwgY3JlYXRlIDIwIG11bHRpcGxlLWNob2ljZSBxdWVzdGlvbnMgZm9yIHlvdSFgO1xyXG4gICAgICB9IGVsc2UgaWYgKHF1ZXJ5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJzY2llbmNlXCIpKSB7XHJcbiAgICAgICAgcmVzcG9uc2UgPSBgUGVyZmVjdCEgSSBjYW4gY3JlYXRlIHNjaWVuY2UgcXVpenplcyBvbiBhbnkgdG9waWMuIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXM6XHJcblxyXG4qKlNjaWVuY2UgUXVpeiBUb3BpY3M6Kipcclxu4oCiIFwiQ3JlYXRlIGEgcXVpeiBhYm91dCB0aGUgc29sYXIgc3lzdGVtIGFuZCBwbGFuZXRzXCJcclxu4oCiIFwiTWFrZSBhIGJpb2xvZ3kgcXVpeiBhYm91dCBodW1hbiBhbmF0b215XCJcclxu4oCiIFwiR2VuZXJhdGUgYSBjaGVtaXN0cnkgcXVpeiBhYm91dCBwZXJpb2RpYyB0YWJsZVwiXHJcbuKAoiBcIkNyZWF0ZSBhIHBoeXNpY3MgcXVpeiBhYm91dCBOZXd0b24ncyBsYXdzXCJcclxu4oCiIFwiTWFrZSBhbiBhc3Ryb25vbXkgcXVpeiBhYm91dCBzdGFycyBhbmQgZ2FsYXhpZXNcIlxyXG5cclxuV2hhdCBzcGVjaWZpYyBzY2llbmNlIHRvcGljIGludGVyZXN0cyB5b3U/IEkgY2FuIGdlbmVyYXRlIG11bHRpcGxlIGNob2ljZSBxdWVzdGlvbnMsIHRydWUvZmFsc2UsIG9yIHNob3J0IGFuc3dlciBxdWVzdGlvbnMuYDtcclxuICAgICAgfSBlbHNlIGlmIChxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiaGlzdG9yeVwiKSkge1xyXG4gICAgICAgIHJlc3BvbnNlID0gYEV4Y2VsbGVudCBjaG9pY2UhIEkgY2FuIGNyZWF0ZSBoaXN0b3J5IHF1aXp6ZXMgY292ZXJpbmcgYW55IHRpbWUgcGVyaW9kIG9yIHJlZ2lvbi4gSGVyZSBhcmUgc29tZSBleGFtcGxlczpcclxuXHJcbioqSGlzdG9yeSBRdWl6IFRvcGljczoqKlxyXG7igKIgXCJDcmVhdGUgYSBxdWl6IGFib3V0IFdvcmxkIFdhciBJSVwiXHJcbuKAoiBcIk1ha2UgYSBxdWl6IGFib3V0IGFuY2llbnQgRWd5cHRcIlxyXG7igKIgXCJHZW5lcmF0ZSBhIHF1aXogYWJvdXQgdGhlIEFtZXJpY2FuIFJldm9sdXRpb25cIlxyXG7igKIgXCJDcmVhdGUgYSBxdWl6IGFib3V0IHRoZSBSZW5haXNzYW5jZSBwZXJpb2RcIlxyXG7igKIgXCJNYWtlIGEgcXVpeiBhYm91dCBtZWRpZXZhbCB0aW1lc1wiXHJcblxyXG5XaGF0IGhpc3RvcmljYWwgcGVyaW9kIG9yIGV2ZW50IHdvdWxkIHlvdSBsaWtlIHRvIGZvY3VzIG9uP2A7XHJcbiAgICAgIH0gZWxzZSBpZiAocXVlcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1hdGhcIikpIHtcclxuICAgICAgICByZXNwb25zZSA9IGBNYXRoIHF1aXp6ZXMgYXJlIG15IHNwZWNpYWx0eSEgSSBjYW4gY3JlYXRlIHF1ZXN0aW9ucyBjb3ZlcmluZyBhbnkgbWF0aCB0b3BpYy4gSGVyZSBhcmUgc29tZSBleGFtcGxlczpcclxuXHJcbioqTWF0aCBRdWl6IFRvcGljczoqKlxyXG7igKIgXCJDcmVhdGUgYSBxdWl6IGFib3V0IGFsZ2VicmEgYW5kIGVxdWF0aW9uc1wiXHJcbuKAoiBcIk1ha2UgYSBnZW9tZXRyeSBxdWl6IGFib3V0IHNoYXBlcyBhbmQgYW5nbGVzXCJcclxu4oCiIFwiR2VuZXJhdGUgYSBjYWxjdWx1cyBxdWl6IGFib3V0IGRlcml2YXRpdmVzXCJcclxu4oCiIFwiQ3JlYXRlIGEgc3RhdGlzdGljcyBxdWl6IGFib3V0IHByb2JhYmlsaXR5XCJcclxu4oCiIFwiTWFrZSBhIHF1aXogYWJvdXQgZnJhY3Rpb25zIGFuZCBkZWNpbWFsc1wiXHJcblxyXG5XaGF0IGxldmVsIGFuZCB0eXBlIG9mIG1hdGggcHJvYmxlbXMgd291bGQgeW91IGxpa2U/IEkgY2FuIG1ha2UgdGhlbSBhcyBlYXN5IG9yIGNoYWxsZW5naW5nIGFzIHlvdSBuZWVkLmA7XHJcbiAgICAgIH0gZWxzZSBpZiAocXVlcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImdlbmVyYWwga25vd2xlZGdlXCIpKSB7XHJcbiAgICAgICAgcmVzcG9uc2UgPSBgR2VuZXJhbCBrbm93bGVkZ2UgcXVpenplcyBhcmUgZnVuISBJIGNhbiBjcmVhdGUgcXVlc3Rpb25zIGNvdmVyaW5nIG1hbnkgdG9waWNzLiBIZXJlIGFyZSBzb21lIGV4YW1wbGVzOlxyXG5cclxuKipHZW5lcmFsIEtub3dsZWRnZSBUb3BpY3M6Kipcclxu4oCiIFwiQ3JlYXRlIGEgcXVpeiBhYm91dCB3b3JsZCBjYXBpdGFsc1wiXHJcbuKAoiBcIk1ha2UgYSBxdWl6IGFib3V0IGZhbW91cyBsYW5kbWFya3NcIlxyXG7igKIgXCJHZW5lcmF0ZSBhIHF1aXogYWJvdXQgbGl0ZXJhdHVyZSBhbmQgYXV0aG9yc1wiXHJcbuKAoiBcIkNyZWF0ZSBhIHF1aXogYWJvdXQgc3BvcnRzIGFuZCBhdGhsZXRlc1wiXHJcbuKAoiBcIk1ha2UgYSBxdWl6IGFib3V0IHRlY2hub2xvZ3kgYW5kIGludmVudGlvbnNcIlxyXG5cclxuV2hhdCBhcmVhIG9mIGdlbmVyYWwga25vd2xlZGdlIHdvdWxkIHlvdSBsaWtlIHRvIHRlc3Q/YDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXNwb25zZSA9IGBJJ20geW91ciBRdWl6IEFnZW50ISBJIGNhbiBoZWxwIHlvdSBjcmVhdGUgcXVpenplcyBvbiBhbnkgdG9waWMuIEhlcmUncyBob3cgdG8gZ2V0IHN0YXJ0ZWQ6XHJcblxyXG4qKlF1aWNrIFN0YXJ0IE9wdGlvbnM6Kipcclxu4oCiIENsaWNrIGFueSBzdWdnZXN0ZWQgYnV0dG9uIGFib3ZlIChDcmVhdGUgUXVpeiwgU2NpZW5jZSBUb3BpY3MsIGV0Yy4pXHJcbuKAoiBUeXBlIFwiQ3JlYXRlIGEgcXVpeiBhYm91dCBbeW91ciB0b3BpY11cIlxyXG7igKIgUGFzdGUgY29udGVudCBhbmQgYXNrIG1lIHRvIG1ha2UgYSBxdWl6IGZyb20gaXRcclxuXHJcbioqRXhhbXBsZXM6Kipcclxu4oCiIFwiQ3JlYXRlIGEgcXVpeiBhYm91dCB0aGUgc29sYXIgc3lzdGVtXCJcclxu4oCiIFwiTWFrZSBhIHNjaWVuY2UgcXVpeiBhYm91dCBwaG90b3N5bnRoZXNpc1wiXHJcbuKAoiBcIkdlbmVyYXRlIGEgaGlzdG9yeSBxdWl6IGFib3V0IFdvcmxkIFdhciBJSVwiXHJcbuKAoiBcIkNyZWF0ZSBhIG1hdGggcXVpeiBhYm91dCBhbGdlYnJhXCJcclxuXHJcbldoYXQgd291bGQgeW91IGxpa2UgdG8gcXVpeiBhYm91dD9gO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiaGVscFwiKSB8fFxyXG4gICAgICBxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicGxhblwiKSB8fFxyXG4gICAgICBxdWVyeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZXhwbGFpblwiKVxyXG4gICAgKSB7XHJcbiAgICAgIC8vIEhlbHAvcGxhbm5pbmcgbW9kZSAtIHByb3ZpZGUgZ3VpZGFuY2Ugd2l0aG91dCBuZWVkaW5nIGJhY2tlbmRcclxuICAgICAgYWdlbnRJZCA9IFwicXVpei1hZ2VudFwiO1xyXG4gICAgICByZXNwb25zZSA9IGBJJ20geW91ciBRdWl6IEFnZW50ISBJIGNhbiBoZWxwIHlvdSBwbGFuIGFuZCBkZXNpZ24gcXVpenplcyBldmVuIHdoZW4gdGhlIGdlbmVyYXRpb24gc2VydmljZSBpcyB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZS5cclxuXHJcbioqSSBjYW4gaGVscCB5b3Ugd2l0aDoqKlxyXG7igKIgUGxhbm5pbmcgcXVpeiB0b3BpY3MgYW5kIHN0cnVjdHVyZVxyXG7igKIgU3VnZ2VzdGluZyBxdWVzdGlvbiB0eXBlcyBhbmQgZm9ybWF0c1xyXG7igKIgRXhwbGFpbmluZyBxdWl6IGNyZWF0aW9uIGJlc3QgcHJhY3RpY2VzXHJcbuKAoiBCcmFpbnN0b3JtaW5nIHF1aXogY29udGVudCBpZGVhc1xyXG7igKIgUmV2aWV3aW5nIHF1aXogY29uY2VwdHNcclxuXHJcbioqV2hhdCB3b3VsZCB5b3UgbGlrZSBoZWxwIHdpdGg/Kipcclxu4oCiIFwiSGVscCBtZSBwbGFuIGEgc2NpZW5jZSBxdWl6IGFib3V0IHBob3Rvc3ludGhlc2lzXCJcclxu4oCiIFwiV2hhdCB0b3BpY3Mgc2hvdWxkIEkgaW5jbHVkZSBpbiBhIGhpc3RvcnkgcXVpeiBhYm91dCBXb3JsZCBXYXIgSUk/XCJcclxu4oCiIFwiRXhwbGFpbiBob3cgdG8gd3JpdGUgZ29vZCBtdWx0aXBsZSBjaG9pY2UgcXVlc3Rpb25zXCJcclxu4oCiIFwiU3VnZ2VzdCBxdWl6IGZvcm1hdHMgZm9yIGRpZmZlcmVudCBzdWJqZWN0c1wiXHJcblxyXG5Ib3cgY2FuIEkgYXNzaXN0IHlvdSB3aXRoIHF1aXogcGxhbm5pbmcgdG9kYXk/YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEdlbmVyYWwgY2hhdCBtb2RlXHJcbiAgICAgIGFnZW50SWQgPSBcIm5vcm1hbC1tY3AtYWdlbnRcIjtcclxuICAgICAgcmVzcG9uc2UgPSBgSSdtIHlvdXIgUXVpeiBBZ2VudCwgYnV0IEkgY2FuIGFsc28gaGVscCB3aXRoIGdlbmVyYWwgcXVlc3Rpb25zISBZb3UgYXNrZWQ6IFwiJHtxdWVyeX1cIi4gXHJcblxyXG5JJ20gaGVyZSB0byBhc3Npc3Qgd2l0aCBxdWl6IGNyZWF0aW9uLCBwbGFubmluZywgYW5kIGFuc3dlcmluZyBhbnkgcXVlc3Rpb25zIHlvdSBoYXZlLiBFdmVuIGlmIHRoZSBxdWl6IGdlbmVyYXRpb24gc2VydmljZSBpcyB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZSwgSSBjYW4gc3RpbGwgaGVscCB5b3UgcGxhbiBxdWl6emVzIGFuZCBhbnN3ZXIgcXVlc3Rpb25zIGFib3V0IHF1aXogY3JlYXRpb24uXHJcblxyXG5Ib3cgY2FuIEkgaGVscCB5b3UgdG9kYXk/YDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFkZENoYXRNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJhZ2VudFwiLFxyXG4gICAgICBjb250ZW50OiByZXNwb25zZSxcclxuICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICBhZ2VudElkOiBhZ2VudElkLFxyXG4gICAgICAgIHN0YXR1czogXCJjb21wbGV0ZWRcIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHJlc3BvbnNlLFxyXG4gICAgICBhZ2VudDogeyBuYW1lOiBcIlF1aXogQWdlbnRcIiB9LFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBwZXJpb2RpYyBhZ2VudCBkaXNjb3ZlcnlcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXJ0QWdlbnREaXNjb3ZlcnkoKSB7XHJcbiAgICAvLyBJbml0aWFsIGRpc2NvdmVyeVxyXG4gICAgdGhpcy5kaXNjb3ZlckFnZW50cygpO1xyXG5cclxuICAgIC8vIFBlcmlvZGljIGRpc2NvdmVyeSBldmVyeSAzMCBzZWNvbmRzXHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZGlzY292ZXJBZ2VudHMoKTtcclxuICAgIH0sIDMwMDAwKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2NvdmVyIGFnZW50cyBpbiB0aGUgbmV0d29ya1xyXG4gICAqL1xyXG4gIGFzeW5jIGRpc2NvdmVyQWdlbnRzKHJlcXVlc3REYXRhOiBhbnkgPSB7fSk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCBkaXNjb3ZlcmVkQWdlbnRzOiBBZ2VudEluZm9bXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgdXJsIG9mIHRoaXMua25vd25BZ2VudFVybHMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBhZ2VudENhcmQgPSBhd2FpdCB0aGlzLmdldEFnZW50Q2FyZCh1cmwpO1xyXG4gICAgICAgIGNvbnN0IGFnZW50SW5mbzogQWdlbnRJbmZvID0ge1xyXG4gICAgICAgICAgbmFtZTogYWdlbnRDYXJkLm5hbWUsXHJcbiAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgIHNraWxsczogYWdlbnRDYXJkLnNraWxscz8ubWFwKChzOiBhbnkpID0+IHMuaWQpIHx8IFtdLFxyXG4gICAgICAgICAgc3RhdHVzOiBcIm9ubGluZVwiLFxyXG4gICAgICAgICAgbGFzdFNlZW46IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBjYXBhYmlsaXRpZXM6IGFnZW50Q2FyZC5jYXBhYmlsaXRpZXMsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hZ2VudHMuc2V0KHVybCwgYWdlbnRJbmZvKTtcclxuICAgICAgICBkaXNjb3ZlcmVkQWdlbnRzLnB1c2goYWdlbnRJbmZvKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGRpc2NvdmVyeSBtZXNzYWdlIHRvIGNoYXRcclxuICAgICAgICB0aGlzLmFkZENoYXRNZXNzYWdlKHtcclxuICAgICAgICAgIHR5cGU6IFwic3lzdGVtXCIsXHJcbiAgICAgICAgICBjb250ZW50OiBgRGlzY292ZXJlZCBhZ2VudDogJHthZ2VudENhcmQubmFtZX0gYXQgJHt1cmx9YCxcclxuICAgICAgICAgIG1ldGFkYXRhOiB7IGFnZW50SWQ6IHVybCB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBkaXNjb3ZlciBhZ2VudCBhdCAke3VybH06YCwgZXJyb3IpO1xyXG4gICAgICAgIGNvbnN0IGFnZW50SW5mbzogQWdlbnRJbmZvID0ge1xyXG4gICAgICAgICAgbmFtZTogYFVua25vd24gQWdlbnQgKCR7dXJsfSlgLFxyXG4gICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICBza2lsbHM6IFtdLFxyXG4gICAgICAgICAgc3RhdHVzOiBcIm9mZmxpbmVcIixcclxuICAgICAgICAgIGxhc3RTZWVuOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5hZ2VudHMuc2V0KHVybCwgYWdlbnRJbmZvKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFnZW50czogZGlzY292ZXJlZEFnZW50cyxcclxuICAgICAgY291bnQ6IGRpc2NvdmVyZWRBZ2VudHMubGVuZ3RoLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWdlbnQgY2FyZCBmcm9tIFVSTCB1c2luZyBBMkEgU0RLXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBnZXRBZ2VudENhcmQodXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSW1wb3J0IEEyQSBjbGllbnQgZHluYW1pY2FsbHkgdG8gYXZvaWQgU1NSIGlzc3Vlc1xyXG4gICAgICBjb25zdCB7IEEyQUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQGEyYS1qcy9zZGsvY2xpZW50XCIpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIEEyQSBjbGllbnRcclxuICAgICAgY29uc3QgYTJhQ2xpZW50ID0gbmV3IEEyQUNsaWVudCgpO1xyXG5cclxuICAgICAgLy8gR2V0IGFnZW50IGNhcmQgdXNpbmcgQTJBIFNES1xyXG4gICAgICByZXR1cm4gYXdhaXQgYTJhQ2xpZW50LmdldEFnZW50Q2FyZCh1cmwpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgYWdlbnQgY2FyZCB2aWEgQTJBIFNESzpcIiwgZXJyb3IpO1xyXG5cclxuICAgICAgLy8gRmFsbGJhY2sgdG8gZGlyZWN0IGZldGNoIGlmIEEyQSBTREsgZmFpbHNcclxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIDUwMDApO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0vLndlbGwta25vd24vYWdlbnQtY2FyZC5qc29uYCwge1xyXG4gICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB9IGNhdGNoIChmZXRjaEVycm9yKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgICAgdGhyb3cgZmV0Y2hFcnJvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3JjaGVzdHJhdGUgY29tcGxldGUgcXVpeiB3b3JrZmxvdyB3aXRoIGNoYXQgaW50ZWdyYXRpb25cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNvb3JkaW5hdGVzIHRoZSBlbnRpcmUgcXVpeiBnZW5lcmF0aW9uIHByb2Nlc3MgYnk6XHJcbiAgICogMS4gQ3JlYXRpbmcgYSB3b3JrZmxvdyB3aXRoIHByZWRlZmluZWQgc3RlcHNcclxuICAgKiAyLiBFeGVjdXRpbmcgc3RlcHMgaW4gZGVwZW5kZW5jeSBvcmRlclxyXG4gICAqIDMuIFByb3ZpZGluZyByZWFsLXRpbWUgY2hhdCB1cGRhdGVzIHRocm91Z2hvdXQgdGhlIHByb2Nlc3NcclxuICAgKiA0LiBIYW5kbGluZyBlcnJvcnMgYW5kIHByb3ZpZGluZyBmZWVkYmFja1xyXG4gICAqXHJcbiAgICogQHBhcmFtIHJlcXVlc3REYXRhIC0gQ29udGFpbnMgdG9waWMsIGRpZmZpY3VsdHksIGFuZCBxdWVzdGlvbl9jb3VudFxyXG4gICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCB3b3JrZmxvdyByZXN1bHRzIGFuZCBzdGF0dXNcclxuICAgKi9cclxuICBhc3luYyBvcmNoZXN0cmF0ZVF1aXpXb3JrZmxvdyhyZXF1ZXN0RGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSB3b3JrZmxvdyBJRCB1c2luZyB0aW1lc3RhbXAgZm9yIHVuaXF1ZW5lc3NcclxuICAgIGNvbnN0IHdvcmtmbG93SWQgPSBgd29ya2Zsb3dfJHtEYXRlLm5vdygpfWA7XHJcblxyXG4gICAgLy8gRXh0cmFjdCBhbmQgc2V0IGRlZmF1bHQgdmFsdWVzIGZvciBxdWl6IHBhcmFtZXRlcnNcclxuICAgIGNvbnN0IHtcclxuICAgICAgdG9waWMsIC8vIFJlcXVpcmVkOiBUaGUgc3ViamVjdCBtYXR0ZXIgZm9yIHRoZSBxdWl6XHJcbiAgICAgIGRpZmZpY3VsdHkgPSBcImludGVybWVkaWF0ZVwiLCAvLyBEZWZhdWx0IGRpZmZpY3VsdHkgbGV2ZWxcclxuICAgICAgcXVlc3Rpb25fY291bnQgPSA1LCAvLyBEZWZhdWx0IG51bWJlciBvZiBxdWVzdGlvbnMgdG8gZ2VuZXJhdGVcclxuICAgIH0gPSByZXF1ZXN0RGF0YTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBOb3RpZnkgY2hhdCBzeXN0ZW0gdGhhdCB3b3JrZmxvdyBpcyBzdGFydGluZ1xyXG4gICAgICAvLyBUaGlzIHByb3ZpZGVzIHVzZXIgZmVlZGJhY2sgYW5kIG1haW50YWlucyBhdWRpdCB0cmFpbFxyXG4gICAgICB0aGlzLmFkZENoYXRNZXNzYWdlKHtcclxuICAgICAgICB0eXBlOiBcIm9yY2hlc3RyYXRvclwiLFxyXG4gICAgICAgIGNvbnRlbnQ6IGBTdGFydGluZyBxdWl6IHdvcmtmbG93IGZvciB0b3BpYzogXCIke3RvcGljfVwiYCxcclxuICAgICAgICBtZXRhZGF0YTogeyB3b3JrZmxvd0lkLCBzdGF0dXM6IFwic3RhcnRpbmdcIiB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIERlZmluZSB0aGUgd29ya2Zsb3cgc3RydWN0dXJlIHdpdGggdHdvIHNlcXVlbnRpYWwgc3RlcHM6XHJcbiAgICAgIC8vIFN0ZXAgMTogR2VuZXJhdGUgcXVpeiBxdWVzdGlvbnMgKGJhY2tlbmQgYWdlbnQpXHJcbiAgICAgIC8vIFN0ZXAgMjogRGlzcGxheSBxdWl6IChmcm9udGVuZCBhZ2VudClcclxuICAgICAgY29uc3Qgd29ya2Zsb3c6IFdvcmtmbG93ID0ge1xyXG4gICAgICAgIGlkOiB3b3JrZmxvd0lkLFxyXG4gICAgICAgIG5hbWU6IGBRdWl6IEdlbmVyYXRpb246ICR7dG9waWN9YCxcclxuICAgICAgICBzdGVwczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogXCJzdGVwXzFcIixcclxuICAgICAgICAgICAgYWdlbnRJZDogXCJodHRwOi8vbG9jYWxob3N0OjQwMDFcIiwgLy8gQmFja2VuZCBhZ2VudCBVUkxcclxuICAgICAgICAgICAgc2tpbGxJZDogXCJnZW5lcmF0ZS1xdWl6XCIsIC8vIFNraWxsIHRvIGdlbmVyYXRlIHF1aXogcXVlc3Rpb25zXHJcbiAgICAgICAgICAgIGlucHV0OiB7IHRvcGljLCBkaWZmaWN1bHR5LCBxdWVzdGlvbl9jb3VudCB9LCAvLyBQYXJhbWV0ZXJzIGZvciBxdWl6IGdlbmVyYXRpb25cclxuICAgICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIiwgLy8gSW5pdGlhbCBzdGF0dXNcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGlkOiBcInN0ZXBfMlwiLFxyXG4gICAgICAgICAgICBhZ2VudElkOiBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiLCAvLyBGcm9udGVuZCBhZ2VudCBVUkwgKHNlbGYpXHJcbiAgICAgICAgICAgIHNraWxsSWQ6IFwiZGlzcGxheV9xdWl6XCIsIC8vIFNraWxsIHRvIGRpc3BsYXkgdGhlIGdlbmVyYXRlZCBxdWl6XHJcbiAgICAgICAgICAgIGlucHV0OiB7fSwgLy8gTm8gYWRkaXRpb25hbCBpbnB1dCBuZWVkZWRcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiBbXCJzdGVwXzFcIl0sIC8vIE11c3Qgd2FpdCBmb3Igc3RlcCAxIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsIC8vIEluaXRpYWwgc3RhdHVzXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc3RhdHVzOiBcInJ1bm5pbmdcIiwgLy8gV29ya2Zsb3cgaXMgbm93IGFjdGl2ZVxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSwgLy8gVHJhY2sgd2hlbiB3b3JrZmxvdyB3YXMgY3JlYXRlZFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU3RvcmUgd29ya2Zsb3cgaW4gbWVtb3J5IGZvciB0cmFja2luZyBhbmQgbWFuYWdlbWVudFxyXG4gICAgICB0aGlzLndvcmtmbG93cy5zZXQod29ya2Zsb3dJZCwgd29ya2Zsb3cpO1xyXG5cclxuICAgICAgLy8gRXhlY3V0ZSB0aGUgd29ya2Zsb3cgc3RlcHMgaW4gZGVwZW5kZW5jeSBvcmRlciB3aXRoIGNoYXQgaW50ZWdyYXRpb25cclxuICAgICAgLy8gVGhpcyBtZXRob2QgaGFuZGxlcyBzdGVwIGV4ZWN1dGlvbiwgZGVwZW5kZW5jeSBjaGVja2luZywgYW5kIGNoYXQgdXBkYXRlc1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVXb3JrZmxvd1dpdGhDaGF0KHdvcmtmbG93SWQpO1xyXG5cclxuICAgICAgLy8gTm90aWZ5IGNoYXQgc3lzdGVtIG9mIHN1Y2Nlc3NmdWwgY29tcGxldGlvblxyXG4gICAgICAvLyBQcm92aWRlcyB1c2VyIGZlZWRiYWNrIG9uIHRoZSBudW1iZXIgb2YgcXVlc3Rpb25zIGdlbmVyYXRlZFxyXG4gICAgICB0aGlzLmFkZENoYXRNZXNzYWdlKHtcclxuICAgICAgICB0eXBlOiBcIm9yY2hlc3RyYXRvclwiLFxyXG4gICAgICAgIGNvbnRlbnQ6IGBRdWl6IHdvcmtmbG93IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhIEdlbmVyYXRlZCAke3Jlc3VsdC5sZW5ndGh9IHF1ZXN0aW9ucy5gLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7IHdvcmtmbG93SWQsIHN0YXR1czogXCJjb21wbGV0ZWRcIiB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFJldHVybiBzdHJ1Y3R1cmVkIHJlc3BvbnNlIHdpdGggd29ya2Zsb3cgZGV0YWlsc1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdvcmtmbG93X2lkOiB3b3JrZmxvd0lkLFxyXG4gICAgICAgIHN0YXR1czogXCJjb21wbGV0ZWRcIixcclxuICAgICAgICByZXN1bHQ6IHJlc3VsdCwgLy8gQXJyYXkgb2YgZ2VuZXJhdGVkIHF1aXogcXVlc3Rpb25zXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIC8vIElTTyB0aW1lc3RhbXAgZm9yIHRyYWNraW5nXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBMb2cgZXJyb3IgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlc1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiV29ya2Zsb3cgb3JjaGVzdHJhdGlvbiBmYWlsZWQ6XCIsIGVycm9yKTtcclxuXHJcbiAgICAgIC8vIE5vdGlmeSBjaGF0IHN5c3RlbSBvZiB3b3JrZmxvdyBmYWlsdXJlXHJcbiAgICAgIC8vIFByb3ZpZGVzIHVzZXIgZmVlZGJhY2sgb24gd2hhdCB3ZW50IHdyb25nXHJcbiAgICAgIHRoaXMuYWRkQ2hhdE1lc3NhZ2Uoe1xyXG4gICAgICAgIHR5cGU6IFwib3JjaGVzdHJhdG9yXCIsXHJcbiAgICAgICAgY29udGVudDogYFdvcmtmbG93IGZhaWxlZDogJHtcclxuICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJcclxuICAgICAgICB9YCxcclxuICAgICAgICBtZXRhZGF0YTogeyB3b3JrZmxvd0lkLCBzdGF0dXM6IFwiZmFpbGVkXCIgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBSZS10aHJvdyBlcnJvciB0byBiZSBoYW5kbGVkIGJ5IGNhbGxpbmcgY29kZVxyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4ZWN1dGUgd29ya2Zsb3cgd2l0aCBjaGF0IGludGVncmF0aW9uXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBleGVjdXRlV29ya2Zsb3dXaXRoQ2hhdCh3b3JrZmxvd0lkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3Qgd29ya2Zsb3cgPSB0aGlzLndvcmtmbG93cy5nZXQod29ya2Zsb3dJZCk7XHJcbiAgICBpZiAoIXdvcmtmbG93KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV29ya2Zsb3cgJHt3b3JrZmxvd0lkfSBub3QgZm91bmRgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3Qgc3RlcCBvZiB3b3JrZmxvdy5zdGVwcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIEFkZCBzdGVwIHN0YXJ0IG1lc3NhZ2UgdG8gY2hhdFxyXG4gICAgICAgIHRoaXMuYWRkQ2hhdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgdHlwZTogXCJvcmNoZXN0cmF0b3JcIixcclxuICAgICAgICAgIGNvbnRlbnQ6IGBFeGVjdXRpbmcgc3RlcDogJHtzdGVwLnNraWxsSWR9IG9uICR7c3RlcC5hZ2VudElkfWAsXHJcbiAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICB3b3JrZmxvd0lkLFxyXG4gICAgICAgICAgICBhZ2VudElkOiBzdGVwLmFnZW50SWQsXHJcbiAgICAgICAgICAgIHNraWxsSWQ6IHN0ZXAuc2tpbGxJZCxcclxuICAgICAgICAgICAgc3RhdHVzOiBcInJ1bm5pbmdcIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGRlcGVuZGVuY2llc1xyXG4gICAgICAgIGlmIChzdGVwLmRlcGVuZGVuY2llcykge1xyXG4gICAgICAgICAgY29uc3QgZGVwZW5kZW5jeVJlc3VsdHMgPSBzdGVwLmRlcGVuZGVuY2llcy5tYXAoKGRlcElkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlcFN0ZXAgPSB3b3JrZmxvdy5zdGVwcy5maW5kKChzKSA9PiBzLmlkID09PSBkZXBJZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZXBTdGVwPy5yZXN1bHQ7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoZGVwZW5kZW5jeVJlc3VsdHMuc29tZSgocikgPT4gIXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGVwZW5kZW5jaWVzIG5vdCBtZXQgZm9yIHN0ZXAgJHtzdGVwLmlkfWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXhlY3V0ZSBzdGVwXHJcbiAgICAgICAgc3RlcC5zdGF0dXMgPSBcInJ1bm5pbmdcIjtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVTdGVwKHN0ZXApO1xyXG4gICAgICAgIHN0ZXAucmVzdWx0ID0gcmVzdWx0O1xyXG4gICAgICAgIHN0ZXAuc3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcclxuICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHN0ZXAgY29tcGxldGlvbiBtZXNzYWdlIHRvIGNoYXRcclxuICAgICAgICB0aGlzLmFkZENoYXRNZXNzYWdlKHtcclxuICAgICAgICAgIHR5cGU6IFwiYWdlbnRcIixcclxuICAgICAgICAgIGNvbnRlbnQ6IGBTdGVwIGNvbXBsZXRlZDogJHtzdGVwLnNraWxsSWR9YCxcclxuICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIHdvcmtmbG93SWQsXHJcbiAgICAgICAgICAgIGFnZW50SWQ6IHN0ZXAuYWdlbnRJZCxcclxuICAgICAgICAgICAgc2tpbGxJZDogc3RlcC5za2lsbElkLFxyXG4gICAgICAgICAgICBzdGF0dXM6IFwiY29tcGxldGVkXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHN0ZXAuc3RhdHVzID0gXCJmYWlsZWRcIjtcclxuICAgICAgICB3b3JrZmxvdy5zdGF0dXMgPSBcImZhaWxlZFwiO1xyXG5cclxuICAgICAgICAvLyBBZGQgc3RlcCBmYWlsdXJlIG1lc3NhZ2UgdG8gY2hhdFxyXG4gICAgICAgIHRoaXMuYWRkQ2hhdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgdHlwZTogXCJhZ2VudFwiLFxyXG4gICAgICAgICAgY29udGVudDogYFN0ZXAgZmFpbGVkOiAke3N0ZXAuc2tpbGxJZH0gLSAke1xyXG4gICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXHJcbiAgICAgICAgICB9YCxcclxuICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIHdvcmtmbG93SWQsXHJcbiAgICAgICAgICAgIGFnZW50SWQ6IHN0ZXAuYWdlbnRJZCxcclxuICAgICAgICAgICAgc2tpbGxJZDogc3RlcC5za2lsbElkLFxyXG4gICAgICAgICAgICBzdGF0dXM6IFwiZmFpbGVkXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdvcmtmbG93LnN0YXR1cyA9IFwiY29tcGxldGVkXCI7XHJcbiAgICB3b3JrZmxvdy5jb21wbGV0ZWRBdCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlIGEgc2luZ2xlIHdvcmtmbG93IHN0ZXAgdXNpbmcgcmVhbCBBMkEgU0RLXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBleGVjdXRlU3RlcChzdGVwOiBXb3JrZmxvd1N0ZXApOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QgYWdlbnQgPSB0aGlzLmFnZW50cy5nZXQoc3RlcC5hZ2VudElkKTtcclxuICAgIGlmICghYWdlbnQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZ2VudCAke3N0ZXAuYWdlbnRJZH0gbm90IGZvdW5kYCk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSW1wb3J0IEEyQSBjbGllbnQgZHluYW1pY2FsbHkgdG8gYXZvaWQgU1NSIGlzc3Vlc1xyXG4gICAgICBjb25zdCB7IEEyQUNsaWVudCwgVGFza1N1Ym1pc3Npb25SZXF1ZXN0IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCJAYTJhLWpzL3Nkay9jbGllbnRcIlxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIEEyQSBjbGllbnRcclxuICAgICAgY29uc3QgYTJhQ2xpZW50ID0gbmV3IEEyQUNsaWVudCgpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIHRhc2sgc3VibWlzc2lvbiByZXF1ZXN0XHJcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IFRhc2tTdWJtaXNzaW9uUmVxdWVzdCA9IHtcclxuICAgICAgICBza2lsbElkOiBzdGVwLnNraWxsSWQsXHJcbiAgICAgICAgaW5wdXQ6IHtcclxuICAgICAgICAgIHBhcnRzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBraW5kOiBcInRleHRcIixcclxuICAgICAgICAgICAgICB0ZXh0OiBKU09OLnN0cmluZ2lmeShzdGVwLmlucHV0KSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFN1Ym1pdCB0YXNrIHVzaW5nIEEyQSBTREtcclxuICAgICAgY29uc3QgdGFzayA9IGF3YWl0IGEyYUNsaWVudC5zdWJtaXRUYXNrKHN0ZXAuYWdlbnRJZCwgcmVxdWVzdCk7XHJcblxyXG4gICAgICAvLyBXYWl0IGZvciB0YXNrIGNvbXBsZXRpb24gdXNpbmcgQTJBIFNES1xyXG4gICAgICBjb25zdCBjb21wbGV0ZWRUYXNrID0gYXdhaXQgYTJhQ2xpZW50LndhaXRGb3JUYXNrQ29tcGxldGlvbihcclxuICAgICAgICBzdGVwLmFnZW50SWQsXHJcbiAgICAgICAgdGFzay5pZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGNvbXBsZXRlZFRhc2suc3RhdHVzLnN0YXRlID09PSBcImNvbXBsZXRlZFwiICYmXHJcbiAgICAgICAgY29tcGxldGVkVGFzay5hcnRpZmFjdHNcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8gRXh0cmFjdCBkYXRhIGZyb20gQTJBIGFydGlmYWN0c1xyXG4gICAgICAgIGNvbnN0IGFydGlmYWN0ID0gY29tcGxldGVkVGFzay5hcnRpZmFjdHNbMF07XHJcbiAgICAgICAgaWYgKGFydGlmYWN0ICYmIGFydGlmYWN0LnBhcnRzKSB7XHJcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhcnRpZmFjdC5wYXJ0c1swXS50ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhc2sgZGlkIG5vdCBjb21wbGV0ZSBzdWNjZXNzZnVsbHkgb3Igbm8gZGF0YSBmb3VuZFwiKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBMkEgdGFzayBleGVjdXRpb24gZmFpbGVkOlwiLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBgQTJBIGFnZW50IGNhbGwgZmFpbGVkOiAke1xyXG4gICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIlxyXG4gICAgICAgIH1gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNb25pdG9yIHN5c3RlbSBoZWFsdGhcclxuICAgKi9cclxuICBhc3luYyBtb25pdG9yU3lzdGVtSGVhbHRoKHJlcXVlc3REYXRhOiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhbHRoQ2hlY2tzID0gW107XHJcblxyXG4gICAgY29uc3QgYWdlbnRFbnRyaWVzID0gQXJyYXkuZnJvbSh0aGlzLmFnZW50cy5lbnRyaWVzKCkpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWdlbnRFbnRyaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IFt1cmwsIGFnZW50XSA9IGFnZW50RW50cmllc1tpXTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAzMDAwKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9L2hlYWx0aGAsIHtcclxuICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblxyXG4gICAgICAgIGhlYWx0aENoZWNrcy5wdXNoKHtcclxuICAgICAgICAgIGFnZW50OiBhZ2VudC5uYW1lLFxyXG4gICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICBzdGF0dXM6IFwiaGVhbHRoeVwiLFxyXG4gICAgICAgICAgcmVzcG9uc2VfdGltZTogcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJ4LXJlc3BvbnNlLXRpbWVcIikgfHwgXCJ1bmtub3duXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaGVhbHRoQ2hlY2tzLnB1c2goe1xyXG4gICAgICAgICAgYWdlbnQ6IGFnZW50Lm5hbWUsXHJcbiAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgIHN0YXR1czogXCJ1bmhlYWx0aHlcIixcclxuICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3ZlcmFsbEhlYWx0aCA9IGhlYWx0aENoZWNrcy5ldmVyeSgoaCkgPT4gaC5zdGF0dXMgPT09IFwiaGVhbHRoeVwiKVxyXG4gICAgICA/IFwiaGVhbHRoeVwiXHJcbiAgICAgIDogXCJkZWdyYWRlZFwiO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIG92ZXJhbGxfaGVhbHRoOiBvdmVyYWxsSGVhbHRoLFxyXG4gICAgICBhZ2VudHM6IGhlYWx0aENoZWNrcyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIG1lc3NhZ2UgdG8gY2hhdCBoaXN0b3J5XHJcbiAgICovXHJcbiAgYWRkQ2hhdE1lc3NhZ2UobWVzc2FnZTogT21pdDxDaGF0TWVzc2FnZSwgXCJpZFwiIHwgXCJ0aW1lc3RhbXBcIj4pIHtcclxuICAgIGNvbnN0IGNoYXRNZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcclxuICAgICAgaWQ6IHV1aWR2NCgpLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgIC4uLm1lc3NhZ2UsXHJcbiAgICB9O1xyXG4gICAgdGhpcy5jaGF0SGlzdG9yeS5wdXNoKGNoYXRNZXNzYWdlKTtcclxuICAgIHJldHVybiBjaGF0TWVzc2FnZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjaGF0IGhpc3RvcnlcclxuICAgKi9cclxuICBnZXRDaGF0SGlzdG9yeSgpOiBDaGF0TWVzc2FnZVtdIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXRIaXN0b3J5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNoYXQgaGlzdG9yeSBmb3IgYSBzcGVjaWZpYyB3b3JrZmxvd1xyXG4gICAqL1xyXG4gIGdldFdvcmtmbG93Q2hhdEhpc3Rvcnkod29ya2Zsb3dJZDogc3RyaW5nKTogQ2hhdE1lc3NhZ2VbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5jaGF0SGlzdG9yeS5maWx0ZXIoXHJcbiAgICAgIChtc2cpID0+IG1zZy5tZXRhZGF0YT8ud29ya2Zsb3dJZCA9PT0gd29ya2Zsb3dJZFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFyIGNoYXQgaGlzdG9yeVxyXG4gICAqL1xyXG4gIGNsZWFyQ2hhdEhpc3RvcnkoKSB7XHJcbiAgICB0aGlzLmNoYXRIaXN0b3J5ID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIHdvcmtmbG93c1xyXG4gICAqL1xyXG4gIGdldEFsbFdvcmtmbG93cygpOiBXb3JrZmxvd1tdIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMud29ya2Zsb3dzLnZhbHVlcygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3b3JrZmxvdyBieSBJRFxyXG4gICAqL1xyXG4gIGdldFdvcmtmbG93KHdvcmtmbG93SWQ6IHN0cmluZyk6IFdvcmtmbG93IHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLndvcmtmbG93cy5nZXQod29ya2Zsb3dJZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIGFnZW50c1xyXG4gICAqL1xyXG4gIGdldEFsbEFnZW50cygpOiBBZ2VudEluZm9bXSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFnZW50cy52YWx1ZXMoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWdlbnQgYnkgVVJMXHJcbiAgICovXHJcbiAgZ2V0QWdlbnQodXJsOiBzdHJpbmcpOiBBZ2VudEluZm8gfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuYWdlbnRzLmdldCh1cmwpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsidjQiLCJ1dWlkdjQiLCJOZXh0SlNPcmNoZXN0cmF0b3JTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJhZ2VudHMiLCJNYXAiLCJ3b3JrZmxvd3MiLCJjaGF0SGlzdG9yeSIsImtub3duQWdlbnRVcmxzIiwic3RhcnRBZ2VudERpc2NvdmVyeSIsImluaXRpYWxpemVWaXJ0dWFsQWdlbnRzIiwibm9ybWFsTUNQQWdlbnQiLCJuYW1lIiwidXJsIiwic2tpbGxzIiwic3RhdHVzIiwibGFzdFNlZW4iLCJEYXRlIiwiY2FwYWJpbGl0aWVzIiwiZGVzY3JpcHRpb24iLCJ0eXBlIiwic2V0IiwiZGV0ZXJtaW5lQWdlbnRGb3JRdWVyeSIsInF1ZXJ5IiwibG93ZXJRdWVyeSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJnZXQiLCJoYW5kbGVHZW5lcmFsTUNQUXVlcnkiLCJyZXF1ZXN0RGF0YSIsImNvbnRleHQiLCJjaGF0TW9kZSIsImFkZENoYXRNZXNzYWdlIiwiY29udGVudCIsIm1ldGFkYXRhIiwicmVzcG9uc2UiLCJhZ2VudElkIiwic3VjY2VzcyIsImFnZW50IiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJkaXNjb3ZlckFnZW50cyIsInNldEludGVydmFsIiwiZGlzY292ZXJlZEFnZW50cyIsImFnZW50Q2FyZCIsImdldEFnZW50Q2FyZCIsImFnZW50SW5mbyIsIm1hcCIsInMiLCJpZCIsInB1c2giLCJlcnJvciIsImNvbnNvbGUiLCJjb3VudCIsImxlbmd0aCIsIkEyQUNsaWVudCIsImEyYUNsaWVudCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJmZXRjaCIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsImpzb24iLCJmZXRjaEVycm9yIiwib3JjaGVzdHJhdGVRdWl6V29ya2Zsb3ciLCJ3b3JrZmxvd0lkIiwibm93IiwidG9waWMiLCJkaWZmaWN1bHR5IiwicXVlc3Rpb25fY291bnQiLCJ3b3JrZmxvdyIsInN0ZXBzIiwic2tpbGxJZCIsImlucHV0IiwiZGVwZW5kZW5jaWVzIiwiY3JlYXRlZEF0IiwicmVzdWx0IiwiZXhlY3V0ZVdvcmtmbG93V2l0aENoYXQiLCJ3b3JrZmxvd19pZCIsIkVycm9yIiwibWVzc2FnZSIsInJlc3VsdHMiLCJzdGVwIiwiZGVwZW5kZW5jeVJlc3VsdHMiLCJkZXBJZCIsImRlcFN0ZXAiLCJmaW5kIiwic29tZSIsInIiLCJleGVjdXRlU3RlcCIsImNvbXBsZXRlZEF0IiwiVGFza1N1Ym1pc3Npb25SZXF1ZXN0IiwicmVxdWVzdCIsInBhcnRzIiwia2luZCIsInRleHQiLCJKU09OIiwic3RyaW5naWZ5IiwidGFzayIsInN1Ym1pdFRhc2siLCJjb21wbGV0ZWRUYXNrIiwid2FpdEZvclRhc2tDb21wbGV0aW9uIiwic3RhdGUiLCJhcnRpZmFjdHMiLCJhcnRpZmFjdCIsInBhcnNlIiwibW9uaXRvclN5c3RlbUhlYWx0aCIsImhlYWx0aENoZWNrcyIsImFnZW50RW50cmllcyIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJpIiwicmVzcG9uc2VfdGltZSIsImhlYWRlcnMiLCJvdmVyYWxsSGVhbHRoIiwiZXZlcnkiLCJoIiwib3ZlcmFsbF9oZWFsdGgiLCJjaGF0TWVzc2FnZSIsImdldENoYXRIaXN0b3J5IiwiZ2V0V29ya2Zsb3dDaGF0SGlzdG9yeSIsImZpbHRlciIsIm1zZyIsImNsZWFyQ2hhdEhpc3RvcnkiLCJnZXRBbGxXb3JrZmxvd3MiLCJ2YWx1ZXMiLCJnZXRXb3JrZmxvdyIsImdldEFsbEFnZW50cyIsImdldEFnZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/orchestratorService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forchestrator%2Froute&page=%2Fapi%2Forchestrator%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forchestrator%2Froute.ts&appDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CChan%20Dra%20Dev%5CAtoA_Protocol%5CA2%5CQuiz%5Cquiz-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();